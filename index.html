<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Hybrid Browser v4.0</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #121212; color: white; font-family: 'Segoe UI', sans-serif; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        /* Панель вкладок */
        .tab-bar {
            background: #1a1a1a;
            display: flex;
            align-items: flex-end;
            padding: 5px 10px 0;
            gap: 5px;
            border-bottom: 2px solid #FF8C00;
        }

        .tab {
            background: #2d2d2d;
            padding: 8px 20px;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            font-size: 13px;
            max-width: 150px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: 0.2s;
        }

        .tab.active { background: #FF8C00; color: black; font-weight: bold; }

        .add-tab {
            padding: 8px 15px;
            cursor: pointer;
            color: #FF8C00;
            font-weight: bold;
        }

        /* Контент (сайти) */
        .content-area { flex-grow: 1; position: relative; }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: none; /* Ховаємо всі іфрейми за замовчуванням */
            background: white;
        }

        iframe.active { display: block; }

        /* Головна сторінка (якщо немає відкритих сайтів) */
        .home-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            background: radial-gradient(circle, #1e1e1e, #121212);
        }

        .logo { font-size: 48px; margin-bottom: 20px; }
        .orange { color: #FF8C00; }
        
        .search-bar { width: 500px; padding: 12px 20px; border-radius: 20px; border: 1px solid #333; background: #222; color: white; outline: none; }
    </style>
</head>
<body>

    <div class="tab-bar" id="tabBar">
        <div class="tab active" onclick="showTab('home')">Домашня</div>
        <div class="add-tab" onclick="addNewTab()">+</div>
    </div>

    <div class="content-area" id="contentArea">
        <div id="home" class="home-screen active">
            <div class="logo"><span class="orange">Hybrid</span> Browser</div>
            <input type="text" class="search-bar" placeholder="Введіть URL (напр. https://bing.com) і натисніть Enter" onkeypress="handleUrl(event)">
        </div>
    </div>

    <script>
        let tabCount = 0;

        function showTab(tabId) {
            // Ховаємо весь контент
            document.querySelectorAll('iframe, .home-screen').forEach(el => el.classList.remove('active'));
            // Знімаємо активність з усіх вкладок
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));

            // Показуємо потрібний контент
            document.getElementById(tabId).classList.add('active');
            // Робимо вкладку активною (тут треба логіка пошуку по тексту або ID)
        }

        function handleUrl(e) {
            if (e.key === 'Enter') {
                let url = e.target.value;
                if (!url.startsWith('http')) url = 'https://' + url;
                addNewTab(url);
                e.target.value = '';
            }
        }

        function addNewTab(url = '') {
            tabCount++;
            const tabId = 'tab-' + tabCount;

            // Створюємо вкладку
            const tab = document.createElement('div');
            tab.className = 'tab active';
            tab.innerText = url ? url.split('/')[2] : 'Нова вкладка';
            tab.onclick = () => showTab(tabId);
            
            // Створюємо фрейм для сайту
            const iframe = document.createElement('iframe');
            iframe.id = tabId;
            iframe.src = url;
            iframe.className = 'active';

            // Приховуємо інші
            document.querySelectorAll('iframe, .home-screen').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));

            document.getElementById('tabBar').insertBefore(tab, document.querySelector('.add-tab'));
            document.getElementById('contentArea').appendChild(iframe);
        }
    </script>
</body>
</html>
